<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
  <!-- Braintree Javascript SDKs -->
  <script src="https://pay.google.com/gp/p/js/pay.js"></script>
  <script src="https://js.braintreegateway.com/web/3.100.0/js/client.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.100.0/js/hosted-fields.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.100.0/js/data-collector.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.100.0/js/google-payment.min.js"></script>
  <script src="https://js.braintreegateway.com/web/3.100.0/js/apple-pay.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>


  <title>Payment Form</title>
</head>
<style>
  /* Start Braintree Credit Card Input Styles */
  #securityCode,
  #expirationDate,
  #creditCardNumber,
  #nameOnCard,
  #billingZipCode {
    background-color: white;
    border-radius: 0.375rem;
    border: 1px solid #dee2e6;
    width: 100%;
    line-height: 1.5;
    height: 2.5rem;
    padding: .1em .5em;
    color: #000;
  }

  .apple-pay-button {
    /*display: inline-block;*/
    -webkit-appearance: -apple-pay-button;
    -apple-pay-button-type: plain;
    -apple-pay-button-style: black;
    width: 160px;
    height: 40px;
  }

  /*#googlePayButton {*/
  /*    display: inline-block;*/
  /*}*/
</style>

<body>
  <div class="container-fluid bg-primary text-white text-center">
    <div class="row" id="top-header">
      <div class="col-md-4">
        <h2 class="mb-0">Located In Chicago</h2>
        <small>Nationwide UPS Shipping Available</small>
      </div>
      <div class="col-md-4">
        <h2 class="mb-0">Online Orders Only</h2>
        <small>Monday-Friday - 5:30pm (Pickups Start At 9am)</small>
      </div>
      <div class="col-md-4">
        <h2 class="mb-0">Order T-Shirts Online</h2>
        <small>Pick Up Your Shirts In One Hour</small>
      </div>
    </div>
  </div>
  <nav class="navbar navbar-expand-xl text-nowrap">
    <div class="container-fluid px-lg-5">
      <a class="navbar-brand" href="https://www.onehourtees.com"><img src="images/oht-logo.png" class="img-fluid"
          alt="One Hour Tees"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item px-2">
            <a class="nav-link active" aria-current="page" href="https://www.onehourtees.com/order/">Get Started</a>
          </li>
          <li class="nav-item px-2">
            <a class="nav-link" href="https://www.onehourtees.com/pricing/">Pricing</a>
          </li>
          <li class="nav-item px-2">
            <a class="nav-link" href="https://www.onehourtees.com/newsite2016/designer/index2.php">Design</a>
          </li>
          <li class="nav-item px-2">
            <a class="nav-link" href="https://www.onehourtees.com/products-2/">Products</a>
          </li>
          <li class="nav-item px-2">
            <a class="nav-link" href="https://www.onehourtees.com/#">Resources</a>
          </li>
          <li class="nav-item px-2">
            <a class="nav-link" href="https://www.onehourtees.com/faq/">FAQ</a>
          </li>
          <li class="nav-item px-2">
            <a class="nav-link" href="https://www.onehourtees.com/contact/">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container p-3 my-4">
    <form class="p-4 rounded-4 bg-white shadow-lg" id="paymentForm" method="POST"
      action="https://payment.onehourtees.com/payment.php">
      <div class="row mb-5">
        <div class="col">
          <h1>Payment Form</h1>
          <p>Please have your order information ready and fill out the payment form below to complete your order. If you
            have
            any questions, please email
            <a href="mailto:info@onehourtees.com">info@onehourtees.com</a> for further
            assistance.
          </p>
        </div>
      </div>
      <div class="row text">
        <div class="col">
          <h6 class="mb-md-3">Payment Information</h6>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="yourFirstName">First Name</label></small>
          <input name="firstName" type="text" class="form-control" id="yourFirstName"
            placeholder="Enter Your First Name" required>
        </div>

        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="yourLastName">Last Name</label></small>
          <input name="lastName" type="text" class="form-control" id="yourLastName" placeholder="Enter Your Last Name"
            required>
        </div>

        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="yourEmailAddress">Email Address</label></small>
          <input name="email" type="email" class="form-control" id="yourEmailAddress"
            placeholder="Enter Your Email Address" required>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="yourSalesAgent">Sales Agent</label></small>
          <select name="sales_agent" class="form-select" aria-label="Your Sales Agent" required>
            <option selected disabled>Select Your Sales Agent</option>
            <option value="17">Karima (karima@onehourtees.com)</option>
            <option value="39">Elisa (elisa@onehourtees.com)</option>
            <option value="48">Julio (julio@onehourtees.com)</option>
            <option value="53">Garret (garret@onehourtees.com)</option>
            <option value="56">Roman (roman@onehourtees.com)</option>
            <option value="59">Edwin (edwin@onehourtees.com)</option>
            <option value="11">Ryan (ryan@onehourtees.com)</option>
            <option value="23">Pro Wrestling Tees (shipping@prowrestlingtees.com)</option>
          </select>
        </div>
        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="yourInvoiceNumber">Invoice Number</label></small>
          <input name="orderId" type="text" class="form-control" id="yourInvoiceNumber"
            placeholder="Enter Your Invoice Number" required>
        </div>
        <div class="col-md-4 mb-5">
          <small><label class="form-label mb-1 required" for="numin">Invoice Amount</label></small>
          <div class="input-group">
            <span class="input-group-text">$</span>
            <input name="amount" type="text" class="form-control" id="numin" placeholder="00.00" required>
          </div>
        </div>
      </div>
      <div class="form-group row mb-4">
        <div class="col">
          <div class="form-check">
            <input name="terms" type="checkbox" class="form-check-input" id="termsAndConditions" required>
            <label class="form-label mb-1 required" for="termsAndConditions">By submitting
              payment, you
              acknowledge
              your have
              read
              and agree to our
              <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">terms and
                conditions</a>.</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <hr>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-12">
          <h6 class="mb-md-3">Express Checkout</h6>
        </div>
        <div class="col-auto mb-md-3" id="express">

        </div>
        <div class="col-auto mb-md-3" id="apple-pay-express">
          <div class="apple-pay-button" lang=en></div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <hr>
        </div>
        <div class="col-auto">
          Or
        </div>
        <div class="col">
          <hr>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <h6 class="mb-md-3">Credit Card Information</h6>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="nameOnCard">Name On Card</label></small>
          <div id="nameOnCard"></div>
        </div>
        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="creditCardNumber">Credit Card Number</label></small>
          <div id="creditCardNumber"></div>
        </div>
        <div class="col-md-4 mb-md-4">
          <small><label class="form-label mb-1 required" for="expirationDate">Expiration Date (MM/YY)</label></small>
          <div id="expirationDate"></div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-6 mb-md-4">
          <small><label class="form-label mb-1 required" for="securityCode">Security Code
              <a class="text-muted" data-bs-toggle="tooltip"
                data-bs-title="3-digit security code usually found on the back of your card. American Express cards have a 4-digit code located on the front."><i
                  class="bi bi-question-circle-fill"></i></a></small></label>
          <div id="securityCode"></div>
        </div>
        <div class="col-md-6 mb-5">
          <small><label class="form-label mb-1 required" for="billingZipCode">Billing Zip Code</label></small>
          <div id="billingZipCode"></div>
        </div>
        <input type="hidden" name="nonce" id="nonce" />
        <input type="hidden" name="deviceData" id="deviceData" />
        <input type="hidden" name="method" id="method" />

      </div>
      <div class="row text-end">
        <div class="col">
          <button type="submit" class="btn btn-primary" id="payBtn">Submit Payment</button>
        </div>
      </div>
    </form>

    <!-- Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="termsModalLabel">Terms And Conditions</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>By paying this invoice, you agree that the listed quantity, styles, sizes and completion date are
              correct. Any modifications must be made prior to processing the invoice.</p>
            <ul>
              <li>Once you approve the invoice, any mistakes on the invoice are your responsibility.</li>
              <li>You're responsible for matching colors. Art with low resolution might look jagged.</li>
              <li>Full payment required. 15% restocking fee on all changes once paid.</li>
              <li>Pickup orders are ready by 4:30 PM on the invoice date. If it's ready earlier, we'll email you.</li>
              <li>No cancellations or refunds; all sales are final.</li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="container-fluid">
    <footer class="row py-5 px-3 border-top">
      <div class="col-lg-3 mb-3">
        <h5>Navigation</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/home/" class="nav-link p-0 text-white">Home</a>
          </li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/order/" class="nav-link p-0 text-white">Get
              Started</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/pricing/"
              class="nav-link p-0 text-white">Pricing</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/newsite2016/designer/index2.php"
              class="nav-link p-0 text-white">Design</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/products-2/"
              class="nav-link p-0 text-white">Our Products</a></li>
          <li class="nav-item mb-2">
            <a href="https://www.onehourtees.com/resources/artwork-specifications/" class="nav-link p-0 text-white">Art
              Specs</a>
          </li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/faq/" class="nav-link p-0 text-white">FAQ</a>
          </li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/reviews/"
              class="nav-link p-0 text-white">Reviews</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/about/"
              class="nav-link p-0 text-white">About</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/contact/"
              class="nav-link p-0 text-white">Contact</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/privacy-policy/"
              class="nav-link p-0 text-white">Privacy Policy</a></li>
          <li class="nav-item mb-2"><a href="https://www.onehourtees.com/sitemap.xml"
              class="nav-link p-0 text-white">Sitemap</a></li>
        </ul>
      </div>

      <div class="col-lg-3 mb-3">
        <h5>Contacts</h5>
        <ul class="nav flex-column mb-3">
          <li class="nav-item mb-2 text-white">
            <i class="bi bi-geo-alt-fill text-primary me-2"></i>2348 N Damen Ave.
            Chicago IL, 60647
          </li>
          <li class="nav-item mb-2 text-white"><i class="bi bi-telephone-fill text-primary me-2"></i>773-687-0520
          </li>
          <li class="nav-item mb-2 text-white">
            <i class="bi bi-clock text-primary me-2"></i>Weekdays Only 10am-5:30pm
          </li>
          <li class="nav-item mb-2 text-white"><i class="bi bi-check2 text-primary me-2"></i>Pickups from
            9am-5:30pm<a href="https://www.onehourtees.com/pickups/">
              (details)</a>
          </li>
        </ul>
        <h5>Our Company Network</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><i class="bi bi-star-fill text-primary me-2"></i><a
              href="https://www.prowrestlingtees.com/" class="nav-link d-inline-block p-0 text-white"
              target="_blank">ProWrestlingTees.com</a></a></li>
          <li class="nav-item mb-2"><i class="bi bi-star-fill text-primary me-2"></i><a
              href="https://www.prowrestlingcrate.com/" class="nav-link d-inline-block p-0 text-white"
              target="_blank">ProWrestlingCrate.com</a></li>
        </ul>
      </div>

      <div class="col-lg-3 mb-3">
        <h5>Follow Us</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><i class="bi bi-facebook text-primary me-2"></i><a
              href="http://www.facebook.com/onehourtees" target="_blank"
              class="nav-link d-inline-block p-0 text-white">Facebook</a></li>
          <li class="nav-item mb-2"><i class="bi bi-instagram text-primary me-2"></i><a
              href="http://www.instagram.com/onehourtees" target="_blank"
              class="nav-link d-inline-block p-0 text-white">Instagram</a></li>
          <li class="nav-item mb-2"><i class="bi bi-twitter-x text-primary me-2"></i><a
              href="http://www.twitter.com/onehourtees" class="nav-link d-inline-block p-0 text-white">X</a>
          </li>
        </ul>
      </div>

      <div class="col-lg-3 mb-3">
        <h5>Directions</h5>
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2968.53921802779!2d-87.68069988720168!3d41.92426326240098!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880fd294aacdf021%3A0xc7eed19356df3b1f!2sOne%20Hour%20Tees!5e0!3m2!1sen!2sus!4v1709765878754!5m2!1sen!2sus"
          width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>

    </footer>
  </div>

  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
  </script>

  <script>
    function formatNumber(e) {
      var rex = /(^\d{2})|(\d{1,3})(?=\d{1,3}|$)/g,
        val = this.value.replace(/^0+|\.|,/g, ""),
        res

      if (val.length) {
        res = Array.prototype.reduce.call(val,
          (p, c) => c + p)            // reverse the pure numbers string
          .match(rex)                                            // get groups in array
          .reduce((p, c, i) => i - 1 ? p + "," + c : p + "." + c) // insert (.) and (,) accordingly
        res += /\.|,/.test(res) ? "" : ".0"                              // test if res has (.) or (,) in it
        this.value = Array.prototype.reduce.call(res, (p, c) => c + p)    // reverse the string and display
      }
    }

    var ni = document.getElementById("numin")

    ni.addEventListener("keyup", formatNumber)
  </script>

</body>

</html>
<!-- Braintree Javascript SDK -->
<script>
  $(() => {

    safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) //check if safari
    if (!safari) {
      $('.apple-pay-button').hide()
    }

    let form = document.querySelector('#paymentForm'),
      submit = document.querySelector('#payBtn'),
      paymentsClient = new google.payments.api.PaymentsClient({
        environment: 'TEST' // Or 'PRODUCTION'
      }),
      appleButton = document.querySelector('.apple-pay-button'),
      googleButton = paymentsClient.createButton({
        buttonColor: 'default',
        buttonType: 'plain',
        onClick: function () { }
      })
    googleButton.setAttribute('id', 'googlePayButton')
    document.getElementById('express').appendChild(googleButton)

    braintree.client.create({
      authorization: 'sandbox_zjp3j98j_8mmhcspnnvv3vd73'
    }, function (clientErr, clientInstance) {
      if (clientErr) {
        return
      }
      braintree.dataCollector.create({
        client: clientInstance
      }, function (err, dataCollectorInstance) {
        if (err) {
          // Handle error in creation of data collector
          return
        }
        // At this point, you should access the dataCollectorInstance.deviceData value and provide it
        // to your server, e.g. by injecting it into your form as a hidden input.
        let deviceData = dataCollectorInstance.deviceData

        braintree.hostedFields.create({
          client: clientInstance,
          styles: {
            'input': {
              'font-size': '1rem',
              'line-height': '1.5'
            },
            'input.invalid': {
              'color': 'red'
            },
            'input.valid': {
              'color': 'green'
            },
            'input::placeholder': {
              'color': '#dee2e6',
              'font-size': '1rem'
            }
          },
          fields: {
            number: {
              container: '#creditCardNumber',
              placeholder: 'Enter Credit Card Number'
            },
            cvv: {
              container: '#securityCode',
              placeholder: 'Enter CVV Code'
            },
            expirationDate: {
              container: '#expirationDate',
              placeholder: 'Enter Expiration Date (MM/YY)'
            },
            cardholderName: {
              container: '#nameOnCard',
              placeholder: 'Enter Name On Card'
            },
            postalCode: {
              container: '#billingZipCode',
              placeholder: 'Enter Billing Zip Code'
            }
          }
        }, function (hostedFieldsErr, hostedFieldsInstance) {
          if (hostedFieldsErr) {

            console.error(hostedFieldsErr)
            return
          }

          form.addEventListener('submit', function (event) {

            event.preventDefault()
            hostedFieldsInstance.tokenize(function (tokenizeErr, payload) {
              if (tokenizeErr) {
                if (tokenizeErr?.details?.invalidFieldKeys?.length > 0) {
                  tokenizeErr.details.invalidFieldKeys.forEach((key, index) => {
                    let fieldId = tokenizeErr?.details?.invalidFields[key]?.id
                    hostedFieldsInstance.addClass(key, 'invalid')
                    if (fieldId !== null) {
                      document.getElementById(fieldId + "-error").classList.remove('hidden')
                    }
                  })
                }
                return
              }

              //set payload.nonce as the value of the hidden input
              document.getElementById('nonce').value = payload.nonce
              document.getElementById('deviceData').value = deviceData
              document.getElementById('method').value = payload.type
              form.submit()
            })
          }, false)
        })
        // Google Pay Start
        braintree.googlePayment.create({
          client: clientInstance,
          googlePayVersion: 2,
          googleMerchantId: 'merchant-id-from-google' // Optional in sandbox; if set in sandbox, this value must be a valid production Google Merchant ID
        }, function (googlePaymentErr, googlePaymentInstance) {
          paymentsClient.isReadyToPay({
            // see https://developers.google.com/pay/api/web/reference/object#IsReadyToPayRequest
            apiVersion: 2,
            apiVersionMinor: 0,
            allowedPaymentMethods: googlePaymentInstance.createPaymentDataRequest().allowedPaymentMethods,
            existingPaymentMethodRequired: true // Optional
          }).then(function (response) {
            if (response.result) {
              googleButton.addEventListener('click', function (event) {
                if (!form.checkValidity()) {
                  form.reportValidity()
                  return
                }
                event.preventDefault()
                let paymentDataRequest = googlePaymentInstance.createPaymentDataRequest({
                  transactionInfo: {
                    currencyCode: 'USD',
                    totalPriceStatus: 'FINAL',
                    totalPrice: document.getElementById('numin').value // Your amount
                  }
                })

                // We recommend collecting billing address information, at minimum
                // billing postal code, and passing that billing postal code with all
                // Google Pay card transactions as a best practice.
                // See all available options at https://developers.google.com/pay/api/web/reference/object
                var cardPaymentMethod = paymentDataRequest.allowedPaymentMethods[0]
                cardPaymentMethod.parameters.billingAddressRequired = true
                cardPaymentMethod.parameters.billingAddressParameters = {
                  format: 'FULL',
                  phoneNumberRequired: true
                }

                paymentsClient.loadPaymentData(paymentDataRequest).then(function (paymentData) {
                  googlePaymentInstance.parseResponse(paymentData, function (err, result) {
                    if (err) {
                      // Handle parsing error
                    }
                    //set payload.nonce as the value of the hidden input
                    document.getElementById('nonce').value = result.nonce
                    document.getElementById('deviceData').value = deviceData
                    document.getElementById('method').value = result.type


                    form.submit()

                  })
                }).catch(function (err) {
                  // Handle errors
                })
              })
            }
          }).catch(function (err) {
            // Handle errors
          })
        })
        // Good Pay End

        //Apple Pay Start
        if (window.ApplePaySession && ApplePaySession.supportsVersion(3) && ApplePaySession.canMakePayments()) {


          braintree.applePay.create({
            client: clientInstance
          }, function (applePayErr, applePayInstance) {
            if (applePayErr) {
              console.error('Error creating applePayInstance:', applePayErr)
              return
            }
            appleButton.addEventListener('click', function () {
              if (!form.checkValidity()) {
                form.reportValidity()
                return
              }
              let paymentRequest = applePayInstance.createPaymentRequest({
                merchantIdentifier: 'merchant.com.prowrestlingtees.staging',
                total: {
                  label: 'OneHourTees',
                  amount: document.getElementById('numin').value
                },

                // We recommend collecting billing address information, at minimum
                // billing postal code, and passing that billing postal code with
                // all Apple Pay transactions as a best practice.
                requiredBillingContactFields: ["postalAddress"]
              })

              var session = new ApplePaySession(3, paymentRequest)
              console.log(paymentRequest)


              session.onvalidatemerchant = function (event) {
                console.log(event)
                applePayInstance.performValidation({
                  validationURL: event.validationURL,
                  displayName: 'OneHourTees'
                }, function (err, merchantSession) {
                  if (err) {
                    console.log('Error validating merchant:', err)
                    // You should show an error to the user, e.g. 'Apple Pay failed to load.'
                    return
                  }
                  session.completeMerchantValidation(merchantSession)
                })
              }
              session.onpaymentauthorized = function (event) {
                console.log('Your shipping address is:', event.payment.shippingContact)

                applePayInstance.tokenize({
                  token: event.payment.token
                }, function (tokenizeErr, payload) {
                  if (tokenizeErr) {
                    console.error('Error tokenizing Apple Pay:', tokenizeErr)
                    session.completePayment(ApplePaySession.STATUS_FAILURE)
                    return
                  }

                  // Send payload.nonce to your server.
                  console.log('nonce:', payload.nonce)

                  // If requested, address information is accessible in event.payment
                  // and may also be sent to your server.
                  console.log('billingPostalCode:', event.payment.billingContact.postalCode)

                  // After you have transacted with the payload.nonce,
                  // call 'completePayment' to dismiss the Apple Pay sheet.
                  session.completePayment(ApplePaySession.STATUS_SUCCESS)
                })
              }
              console.log(session)
              session.begin()
              console.log(session)


            })


            // Set up your Apple Pay button here
          })


          // This device supports version 3 of Apple Pay.
        }
        //Apple Pay End


      })
    })
  })
</script>